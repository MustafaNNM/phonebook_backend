{"version":3,"sources":["services/personService.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Filter.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","updatedObject","put","id","delete","PersonForm","persons","setPersons","setMessage","useState","newName","setNewName","newNumber","setNewNumber","updatePersons","message","text","class","setTimeout","onSubmit","event","preventDefault","some","e","name","personToUpdate","find","window","confirm","number","personService","updatedPerson","filter","concat","catch","error","className","newPerson","length","createdPerson","value","onChange","target","type","Person","person","onClick","p","delPerson","Persons","toLowerCase","includes","map","key","Filter","setFilter","Notification","App","useEffect","initialPersons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2d9e1dd6.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n//const baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\n\n\nconst update = updatedObject => {\n  const request = axios.put(`${baseUrl}/${updatedObject.id}`, updatedObject)\n  return request.then(response => response.data)\n}\n\n\n\nconst deleteIt = id => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default {getAll,create,update, deleteIt}","import React, { useState } from 'react'\r\n\r\nimport personService from '../services/personService'\r\nimport '../index.css'\r\n\r\nconst PersonForm = ({persons,setPersons,setMessage}) => {\r\n    const [newName, setNewName ] = useState('')\r\n    const [newNumber, setNewNumber ] = useState('')\r\n  \r\n    const updatePersons = (persons, message) => {\r\n        setPersons(persons)\r\n        setNewName('')\r\n        setNewNumber('')\r\n        setMessage({text:message, class:'info'})\r\n        setTimeout(() => {\r\n          setMessage(null)\r\n        }, 5000)      \r\n      }\r\n\r\n\r\n    const addPhone = (event) => {\r\n       event.preventDefault()\r\n\r\n       if (persons.some(e => e.name === newName)) {\r\n       let personToUpdate = {...persons.find(e => e.name === newName)}\r\n            if (window.confirm (`${personToUpdate.name} is already added to phonebook, replace the old number with a new one?`)) {\r\n                 personToUpdate.number = newNumber\r\n\r\n                 personService.update(personToUpdate)\r\n                 .then(updatedPerson => {\r\n                 updatePersons(persons.filter(e => e.name !== newName).concat(updatedPerson),\r\n                           `Updated '${updatedPerson.name}'`)\r\n                 })\r\n                 .catch(error => {\r\n                  setMessage({ text: `${error.response.data.error}`, className: 'error' })\r\n                })\r\n            }\r\n     } else {\r\n       const newPerson = {\r\n         id     : persons.length + 1,\r\n         name   : newName,\r\n         number : newNumber\r\n       }\r\n\r\n       personService.create(newPerson)\r\n         .then(createdPerson => {\r\n           updatePersons(persons.concat(createdPerson),\r\n                       `Added '${createdPerson.name}'`)\r\n          })\r\n          .catch(error => {\r\n            setMessage({ text: `${error.response.data.error}`, class: 'error' })\r\n          })\r\n     }\r\n   }\r\n\r\n  \r\n    const handleNameChange = (event) => {\r\n      setNewName(event.target.value)\r\n    }  \r\n  \r\n    const handleNumberChange = (event) => {\r\n      setNewNumber(event.target.value)\r\n    }  \r\n  \r\n    return (\r\n        <form onSubmit={addPhone}>\r\n            <div>\r\n                name: <input value={newName} onChange={handleNameChange}/>\r\n            </div>\r\n            <div>\r\n                number: <input value={newNumber} onChange={handleNumberChange}/>\r\n            </div>  \r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n  }\r\n  export default PersonForm","import React from 'react'\r\nimport personService from '../services/personService'\r\nimport '../index.css'\r\n\r\nconst Person = ({ person,persons,setPersons,setMessage}) => {\r\n\r\n    \r\n    const delPerson = (id) => {\r\n        const person = persons.find(p => p.id === id)\r\n        if (window.confirm (`Delete ${person.name}?`)) {\r\n            personService\r\n                .deleteIt(person.id).then(response => {\r\n                    setMessage({text:`Deleted '${person.name}'`, class: 'info'})\r\n                })  \r\n                .catch(error => {\r\n                    setMessage({ text: `${error.response.data.error}`, class: 'error' })\r\n                })   \r\n            setPersons(persons.filter(p => p.id !== id))\r\n            setTimeout(() => {\r\n              setMessage(null)\r\n            }, 5000)\r\n                     \r\n        }\r\n    }\r\n\r\n    return  ( \r\n        <li className='person'>\r\n            {person.name} {person.number} <button onClick={() => delPerson(person.id)}>Delete</button>\r\n        </li>\r\n    )\r\n    }\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\n\r\n    \r\n\r\nconst Persons = ({ persons, filter, setPersons, setMessage  }) => {\r\n    return (\r\n      <ul>\r\n        {persons.filter(e => e.name.toLowerCase().includes(filter.toLowerCase())).map(person =>\r\n          <Person key={person.name} person={person}\r\n          persons={persons}\r\n          setPersons={setPersons}\r\n          setMessage={setMessage}/>\r\n        )}\r\n      </ul>\r\n    )\r\n  }\r\n\r\n  export default Persons","import React from 'react'\r\n\r\nconst Filter = ({ filter, setFilter }) => {\r\n    const handleFilterChange = (event) => {\r\n        setFilter(event.target.value)\r\n    }\r\n    return (\r\n        <div>filter shown with <input value={filter} onChange={handleFilterChange}/></div>\r\n    )\r\n  }\r\n\r\n    export default Filter","import React from 'react'\r\nimport '../index.css'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className={message.class}>\r\n        {message.text}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notification","import React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport personService from './services/personService'\n\n \nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [ message, setMessage ] = useState(null)\n  const [filter,setFilter]= useState('')\n\n  const hook = () => {\n    personService.getAll()\n    .then(initialPersons => {\n      setPersons(initialPersons)\n    })\n  }\n\n  useEffect(hook, [])\n  \n\n  return (\n    <div>\n      <h2 >Phonebook</h2>\n      <Notification message={message} />\n      <Filter filter={filter} setFilter={setFilter} />\n      <h2>Add a new</h2>\n      <PersonForm persons={persons} setPersons={setPersons} setMessage={setMessage}/>\n      <h2>Numbers</h2>\n      <Persons persons={persons} filter={filter} setPersons={setPersons} setMessage={setMessage}/>\n    </div>\n  )\n}\n\nexport default App\n\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\nimport './index.css'\n\n\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}